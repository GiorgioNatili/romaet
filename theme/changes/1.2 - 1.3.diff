Index: skin/frontend/meigeetheme/default/js/jquery.iosslider.min.js
===================================================================
--- skin/frontend/meigeetheme/default/js/jquery.iosslider.min.js	(.../1.2)	(revision 43)
+++ skin/frontend/meigeetheme/default/js/jquery.iosslider.min.js	(.../1.3)	(revision 43)
@@ -1,12 +1,15 @@
 /*
  * iosSlider - http://iosscripts.com/iosslider/
  * 
- * A jQuery Horizontal Slider for iPhone/iPad Safari 
- * This plugin turns any wide element into a touch enabled horizontal slider.
+ * Touch Enabled, Responsive jQuery Horizontal Content Slider/Carousel/Image Gallery Plugin
+ *
+ * A jQuery plugin which allows you to integrate a customizable, cross-browser 
+ * content slider into your web presence. Designed for use as a content slider, carousel, 
+ * scrolling website banner, or image gallery.
  * 
- * Copyright (c) 2012 Marc Whitbread
+ * Copyright (c) 2013 Marc Whitbread
  * 
- * Version: v1.1.50 (12/20/2012)
+ * Version: v1.2.22 (05/22/2013)
  * Minimum requirements: jQuery v1.4+
  *
  * Advanced requirements:
@@ -36,4 +39,4 @@
  * OF THE POSSIBILITY OF SUCH DAMAGE. 
  */
  
-(function(a){var la=0,V=0,ba=0,Q=0,M="ontouchstart"in window,Ca="onorientationchange"in window,ca=!1,Z=!1,$=!1,ma=!1,ga="pointer",ta="pointer",na=[],ha=[],T=[],ua=[],ia=[],G=[],aa=[],y=[],f=[],n=[],va=[],da=[],d={showScrollbar:function(e,d){e.scrollbarHide&&a("."+d).css({opacity:e.scrollbarOpacity,filter:"alpha(opacity:"+100*e.scrollbarOpacity+")"})},hideScrollbar:function(a,g,b,u,c,t,f,n,v,x){if(a.scrollbar&&a.scrollbarHide)for(var y=b;y<b+25;y++)g[g.length]=d.hideScrollbarIntervalTimer(10*y,u[b], (b+24-y)/24,c,t,f,n,v,x,a)},hideScrollbarInterval:function(e,g,b,u,c,t,f,y,v){Q=-1*e/n[y]*(c-t-f-u);d.setSliderOffset("."+b,Q);a("."+b).css({opacity:v.scrollbarOpacity*g,filter:"alpha(opacity:"+100*v.scrollbarOpacity*g+")"})},slowScrollHorizontalInterval:function(e,g,b,u,c,t,O,K,v,x,I,w,q,s,l,z,m,j){if(j.infiniteSlider){if(b<=-1*n[l]){var p=a(e).width();if(b<=-1*va[l]){var r=-1*I[0];a(g).each(function(b){d.setSliderOffset(a(g)[b],r+z);b<w.length&&(w[b]=-1*r);r+=a(this).outerWidth(!0)});b+=-1*w[0]; f[l]=-1*w[0]+z;n[l]=f[l]+p-t;y[l]=0}else{var k=0,D=d.getSliderOffset(a(g[0]),"x");a(g).each(function(a){d.getSliderOffset(this,"x")<D&&(D=d.getSliderOffset(this,"x"),k=a)});q=f[l]+p;d.setSliderOffset(a(g)[k],q);f[l]=-1*w[1]+z;n[l]=f[l]+p-t;w.splice(0,1);w.splice(w.length,0,-1*q+z);y[l]++}}if(b>=-1*f[l]||0<=b){p=a(e).width();if(0<=b){r=-1*I[0];a(g).each(function(b){d.setSliderOffset(a(g)[b],r+z);b<w.length&&(w[b]=-1*r);r+=a(this).outerWidth(!0)});b-=-1*w[0];f[l]=-1*w[0]+z;n[l]=f[l]+p-t;for(y[l]=s;0< -1*w[0]-p+z;){var A=0,J=d.getSliderOffset(a(g[0]),"x");a(g).each(function(a){d.getSliderOffset(this,"x")>J&&(J=d.getSliderOffset(this,"x"),A=a)});q=f[l]-a(g[A]).outerWidth(!0);d.setSliderOffset(a(g)[A],q);w.splice(0,0,-1*q+z);w.splice(w.length-1,1);f[l]=-1*w[0]+z;n[l]=f[l]+p-t;y[l]--;G[l]++}}0>b&&(A=0,J=d.getSliderOffset(a(g[0]),"x"),a(g).each(function(a){d.getSliderOffset(this,"x")>J&&(J=d.getSliderOffset(this,"x"),A=a)}),q=f[l]-a(g[A]).outerWidth(!0),d.setSliderOffset(a(g)[A],q),w.splice(0,0,-1* q+z),w.splice(w.length-1,1),f[l]=-1*w[0]+z,n[l]=f[l]+p-t,y[l]--)}}I=!1;t=d.calcActiveOffset(j,b,w,t,y[l],s,x,l);q=(t+y[l]+s)%s;j.infiniteSlider?q!=aa[l]&&(I=!0):t!=G[l]&&(I=!0);if(I&&(s=new d.args(j,e,a(e).children(":eq("+q+")"),q,m,!0),a(e).parent().data("args",s),""!=j.onSlideChange))j.onSlideChange(s);G[l]=t;aa[l]=q;b=Math.floor(b);d.setSliderOffset(e,b);j.scrollbar&&(Q=Math.floor((-1*b-f[l])/(n[l]-f[l])*(O-K-c)),e=c-v,b>=-1*f[l]?(e=c-v- -1*Q,d.setSliderOffset(a("."+u),0)):(b<=-1*n[l]+1&&(e=O- K-v-Q),d.setSliderOffset(a("."+u),Q)),a("."+u).css({width:e+"px"}))},slowScrollHorizontal:function(e,g,b,u,c,t,O,K,v,x,I,w,q,s,l,z,m,j,p,r){t=[];var k=d.getSliderOffset(e,"x"),D=0,A=25/1024*K;frictionCoefficient=r.frictionCoefficient;elasticFrictionCoefficient=r.elasticFrictionCoefficient;snapFrictionCoefficient=r.snapFrictionCoefficient;5<c&&r.snapToChildren&&!j?D=1:-5>c&&(r.snapToChildren&&!j)&&(D=-1);c<-1*A?c=-1*A:c>A&&(c=A);a(e)[0]!==a(m)[0]&&(D*=-1,c*=-2);m=y[s];if(r.infiniteSlider)var J=f[s], H=n[s];j=[];for(var A=[],h=0;h<q.length;h++)j[h]=q[h],h<g.length&&(A[h]=d.getSliderOffset(a(g[h]),"x"));for(;1<c||-1>c;){c*=frictionCoefficient;k+=c;if((k>-1*f[s]||k<-1*n[s])&&!r.infiniteSlider)c*=elasticFrictionCoefficient,k+=c;if(r.infiniteSlider){if(k<=-1*H){for(var H=a(e).width(),L=0,M=A[0],h=0;h<A.length;h++)A[h]<M&&(M=A[h],L=h);h=J+H;A[L]=h;J=-1*j[1]+p;H=J+H-K;j.splice(0,1);j.splice(j.length,0,-1*h+p);m++}if(k>=-1*J){H=a(e).width();L=0;M=A[0];for(h=0;h<A.length;h++)A[h]>M&&(M=A[h],L=h);h=J- a(g[L]).outerWidth(!0);A[L]=h;j.splice(0,0,-1*h+p);j.splice(j.length-1,1);J=-1*j[0]+p;H=J+H-K;m--}}t[t.length]=k}A=!1;c=d.calcActiveOffset(r,k,j,K,m,z,G[s],s);J=(c+m+z)%z;r.snapToChildren&&(r.infiniteSlider?J!=aa[s]&&(A=!0):c!=G[s]&&(A=!0),0>D&&!A?(c++,c>=q.length&&!r.infinteSlider&&(c=q.length-1)):0<D&&!A&&(c--,0>c&&!r.infinteSlider&&(c=0)));if(r.snapToChildren||(k>-1*f[s]||k<-1*n[s])&&!r.infiniteSlider){k=d.getSliderOffset(e,"x");for(t.splice(0,t.length);k<j[c]-0.5||k>j[c]+0.5;)k=(k-j[c])*snapFrictionCoefficient+ j[c],t[t.length]=k;t[t.length]=j[c]}D=1;0!=t.length%2&&(D=0);for(k=0;k<b.length;k++)clearTimeout(b[k]);m=(c+m+z)%z;J=0;for(k=D;k<t.length;k+=2)if(k==D||1<Math.abs(t[k]-J)||k>=t.length-2)J=t[k],b[b.length]=d.slowScrollHorizontalIntervalTimer(10*k,e,g,t[k],u,O,K,v,x,I,c,w,q,l,z,s,p,m,r);J=(c+y[s]+z)%z;""!=r.onSlideComplete&&(b[b.length]=d.onSlideCompleteTimer(10*(k+1),r,e,a(e).children(":eq("+J+")"),J,s));ia[s]=b;d.hideScrollbar(r,b,k,t,u,O,K,x,I,s)},onSlideComplete:function(e,g,b,u,c){var t=na[c]!= u?!0:!1;b=new d.args(e,a(g),b,u,u,t);a(g).parent().data("args",b);if(""!=e.onSlideComplete)e.onSlideComplete(b);na[c]=u},getSliderOffset:function(e,d){var b=0;d="x"==d?4:5;if(ca&&!Z&&!$){for(var b=["-webkit-transform","-moz-transform","transform"],u=0;u<b.length;u++)if(void 0!=a(e).css(b[u])&&0<a(e).css(b[u]).length){var c=a(e).css(b[u]).split(",");break}b=parseInt(c[d],10)}else b=parseInt(a(e).css("left"),10);return b},setSliderOffset:function(e,d){ca&&!Z&&!$?a(e).css({webkitTransform:"matrix(1,0,0,1,"+ d+",0)",MozTransform:"matrix(1,0,0,1,"+d+",0)",transform:"matrix(1,0,0,1,"+d+",0)"}):a(e).css({left:d+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(ga="-webkit-grab",ta="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(ga="move",ta="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?ma=Z=!0:null!=navigator.userAgent.match("MSIE 8")?ma=$=!0:null!=navigator.userAgent.match("MSIE 9")&&(ma=!0)},has3DTransform:function(){var e=!1,d=a("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)", MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});""==d.attr("style")?e=!1:void 0!=d.attr("style")&&(e=!0);return e},getSlideNumber:function(a,d,b){return(a-y[d]+b)%b},calcActiveOffset:function(a,d,b,u){var c=!1;a=[];for(var t,f=0;f<b.length;f++)b[f]<=d&&b[f]>d-u&&(!c&&b[f]!=d&&(a[a.length]=b[f-1]),a[a.length]=b[f],c=!0);0==a.length&&(a[0]=b[b.length-1]);for(f=c=0;f<a.length;f++){var n=Math.abs(d-a[f]);n<u&&(c=a[f],u=n)}for(f=0;f<b.length;f++)c==b[f]&&(t=f);return t},changeSlide:function(e, g,b,f,c,t,n,K,v,x,I,w,q,s,l,z,m){d.autoSlidePause(q);for(var j=0;j<f.length;j++)clearTimeout(f[j]);var p=Math.ceil(m.autoSlideTransTimer/10)+1,r=d.getSliderOffset(g,"x"),k=w[e],D=k-r;if(m.infiniteSlider){e=(e-y[q]+2*l)%l;j=!1;0==e&&2==l&&(e=l,w[e]=w[e-1]-a(b).eq(0).outerWidth(!0),j=!0);k=w[e];D=k-r;k=[w[e]-a(g).width(),w[e]+a(g).width()];j&&w.splice(w.length-1,1);for(j=0;j<k.length;j++)Math.abs(k[j]-r)<Math.abs(D)&&(D=k[j]-r)}var k=[],A;d.showScrollbar(m,c);for(j=0;j<=p;j++)A=j,A/=p,A--,A=r+D*(Math.pow(A, 5)+1),k[k.length]=A;for(j=r=0;j<k.length;j++){if(0==j||1<Math.abs(k[j]-r)||j>=k.length-2)r=k[j],f[j]=d.slowScrollHorizontalIntervalTimer(10*(j+1),g,b,k[j],c,t,n,K,v,x,e,I,w,s,l,q,z,e,m);0==j&&""!=m.onSlideStart&&(p=(G[q]+y[q]+l)%l,m.onSlideStart(new d.args(m,g,a(g).children(":eq("+p+")"),p,e,!1)))}r=!1;p=(e+y[q]+l)%l;m.infiniteSlider?p!=aa[q]&&(r=!0):e!=G[q]&&(r=!0);r&&""!=m.onSlideComplete&&(f[f.length]=d.onSlideCompleteTimer(10*(j+1),m,g,a(g).children(":eq("+p+")"),p,q));ia[q]=f;d.hideScrollbar(m, f,j,k,c,t,n,v,x,q);d.autoSlide(g,b,f,c,t,n,K,v,x,I,w,q,s,l,z,m)},autoSlide:function(a,g,b,f,c,t,n,K,v,x,I,w,q,s,l,z){if(!z.autoSlide)return!1;d.autoSlidePause(w);ha[w]=setTimeout(function(){!z.infiniteSlider&&G[w]>I.length-1&&(G[w]-=s);d.changeSlide((G[w]+y[w]+s+1)%s,a,g,b,f,c,t,n,K,v,x,I,w,q,s,l,z);d.autoSlide(a,g,b,f,c,t,n,K,v,x,I,w,q,s,l,z)},z.autoSlideTimer+z.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(ha[a])},isUnselectable:function(d,g){return""!=g.unselectableSelector&&1== a(d).closest(g.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,g,b,f,c,t,n,y,v,x,G,w,q,s,l,z,m,j,p){return setTimeout(function(){d.slowScrollHorizontalInterval(g,b,f,c,t,n,y,v,x,G,w,q,s,l,z,m,j,p)},a)},onSlideCompleteTimer:function(a,g,b,f,c,t){return setTimeout(function(){d.onSlideComplete(g,b,f,c,t)},a)},hideScrollbarIntervalTimer:function(a,g,b,f,c,t,n,y,v,x){return setTimeout(function(){d.hideScrollbarInterval(g,b,f,c,t,n,y,v,x)},a)},args:function(e,f,b,n,c,t){this.settings= e;this.data=a(f).parent().data("iosslider");this.slideChanged=t;this.sliderObject=f;this.sliderContainerObject=a(f).parent();this.currentSlideObject=b;this.currentSlideNumber=n+1;this.targetSlideObject=a(f).children(":eq("+c+")");this.targetSlideNumber=c+1;this.currentSliderOffset=-1*d.getSliderOffset(f,"x");try{this.prevSlideNumber=void 0==a(f).parent().data("args")?e.startAtSlide:a(f).parent().data("args").prevSlideNumber==this.currentSlideNumber?a(f).parent().data("args").currentSlideNumber:a(f).parent().data("args").prevSlideNumber, this.prevSlideObject=a(f).children(":eq("+this.prevSlideNumber+")")}catch(y){}},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};d.setBrowserInfo();var S={init:function(e,g){ca=d.has3DTransform();var b=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1, scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1, stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},e);void 0==g&&(g=this);return a(g).each(function(){function e(){d.autoSlidePause(c);wa=a(C).find("a");za=a(C).find("[onclick]");oa=a(C).find("*");a(j).css("width","");a(j).css("height","");a(C).css("width","");B=a(C).children().not("script").get();pa=[];W=[];a(B).css("width","");n[c]=0;h=[];l=a(j).parent().width(); p=a(j).outerWidth(!0);b.responsiveSlideContainer&&(p=a(j).outerWidth(!0)>l?l:a(j).outerWidth(!0));a(j).css({position:b.stageCSS.position,top:b.stageCSS.top,left:b.stageCSS.left,overflow:b.stageCSS.overflow,zIndex:b.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:p});a(b.unselectableSelector).css({cursor:"default"});for(var E=0;E<B.length;E++){pa[E]=a(B[E]).width();W[E]=a(B[E]).outerWidth(!0);var u=W[E];b.responsiveSlides&&(u=W[E]>p?p+-1*(W[E]-pa[E]):pa[E],a(B[E]).css({width:u})); a(B[E]).css({webkitBackfaceVisibility:"hidden",position:"absolute",top:0});h[E]=-1*n[c];n[c]+=u}b.snapSlideCenter&&(m=0.5*(p-W[0]),b.responsiveSlides&&W[0]>p&&(m=0));va[c]=2*n[c];for(E=0;E<B.length;E++)d.setSliderOffset(a(B[E]),-1*h[E]+n[c]+m),h[E]-=n[c];if(!b.infiniteSlider&&!b.snapSlideCenter){for(E=0;E<h.length&&!(h[E]<=-1*(2*n[c]-p));E++)ha=E;h.splice(ha+1,h.length);h[h.length]=-1*(2*n[c]-p)}for(E=0;E<h.length;E++)L[E]=h[E];J&&(b.startAtSlide=T[c].startAtSlide>h.length?h.length:T[c].startAtSlide, b.infiniteSlider?(b.startAtSlide=(T[c].startAtSlide-1+F)%F,G[c]=T[c].startAtSlide):(b.startAtSlide=0>T[c].startAtSlide-1?h.length-1:T[c].startAtSlide,G[c]=T[c].startAtSlide-1),aa[c]=G[c]);f[c]=n[c]+m;a(C).css({position:"relative",cursor:ga,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:n[c]+"px"});X=n[c];n[c]=2*n[c]-p+2*m;(P=X<p?!0:!1)&&a(C).css({cursor:"default"});z=a(j).parent().outerHeight(!0);r=a(j).height();b.responsiveSlideContainer&&(r=r>z?z:r);a(j).css({height:r});d.setSliderOffset(C, h[G[c]]);if(b.infiniteSlider&&!P){d.getSliderOffset(a(C),"x");for(E=-1*((y[c]+F)%F);0>E;){var A=0,H=d.getSliderOffset(a(B[0]),"x");a(B).each(function(a){d.getSliderOffset(this,"x")<H&&(H=d.getSliderOffset(this,"x"),A=a)});u=f[c]+X;d.setSliderOffset(a(B)[A],u);f[c]=-1*h[1]+m;n[c]=f[c]+X-p;h.splice(0,1);h.splice(h.length,0,-1*u+m);E++}for(;0<-1*h[0]-X+m&&b.snapSlideCenter&&J;){var K=0,Aa=d.getSliderOffset(a(B[0]),"x");a(B).each(function(a){d.getSliderOffset(this,"x")>Aa&&(Aa=d.getSliderOffset(this, "x"),K=a)});u=f[c]-W[K];d.setSliderOffset(a(B)[K],u);h.splice(0,0,-1*u+m);h.splice(h.length-1,1);f[c]=-1*h[0]+m;n[c]=f[c]+X-p;y[c]--;G[c]++}}d.setSliderOffset(C,h[G[c]]);!M&&!b.desktopClickDrag&&a(C).css({cursor:"default"});b.scrollbar&&(a("."+v).css({margin:b.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+v+" ."+x).css({border:b.scrollbarBorder}),k=parseInt(a("."+v).css("marginLeft"))+parseInt(a("."+v).css("marginRight")),D=parseInt(a("."+v+" ."+x).css("borderLeftWidth"),10)+parseInt(a("."+ v+" ."+x).css("borderRightWidth"),10),q=""!=b.scrollbarContainer?a(b.scrollbarContainer).width():p,s=(q-k)/F,b.scrollbarHide||(S=b.scrollbarOpacity),a("."+v).css({position:"absolute",left:0,width:q-k+"px",margin:b.scrollbarMargin}),"top"==b.scrollbarLocation?a("."+v).css("top","0"):a("."+v).css("bottom","0"),a("."+v+" ."+x).css({borderRadius:b.scrollbarBorderRadius,background:b.scrollbarBackground,height:b.scrollbarHeight,width:s-D+"px",minWidth:b.scrollbarHeight,border:b.scrollbarBorder,webkitPerspective:1E3, webkitBackfaceVisibility:"hidden",position:"relative",opacity:S,filter:"alpha(opacity:"+100*S+")",boxShadow:b.scrollbarShadow}),d.setSliderOffset(a("."+v+" ."+x),Math.floor((-1*h[G[c]]-f[c]+m)/(n[c]-f[c])*(q-k-s))),a("."+v).css({display:"block"}),I=a("."+v+" ."+x),w=a("."+v));b.scrollbarDrag&&!P&&a("."+v+" ."+x).css({cursor:ga});b.infiniteSlider&&(N=(n[c]+p)/3);""!=b.navSlideSelector&&a(b.navSlideSelector).each(function(E){a(this).css({cursor:"pointer"});a(this).unbind(Y).bind(Y,function(){d.changeSlide(E, C,B,g,x,s,p,q,k,D,L,h,c,N,F,m,b)})});""!=b.navPrevSelector&&(a(b.navPrevSelector).css({cursor:"pointer"}),a(b.navPrevSelector).unbind(Y).bind(Y,function(){var a=(G[c]+y[c]+F)%F;(0<a||b.infiniteSlider)&&d.changeSlide(a-1,C,B,g,x,s,p,q,k,D,L,h,c,N,F,m,b)}));""!=b.navNextSelector&&(a(b.navNextSelector).css({cursor:"pointer"}),a(b.navNextSelector).unbind(Y).bind(Y,function(){var a=(G[c]+y[c]+F)%F;(a<h.length-1||b.infiniteSlider)&&d.changeSlide(a+1,C,B,g,x,s,p,q,k,D,L,h,c,N,F,m,b)}));b.autoSlide&&!P&& (""!=b.autoSlideToggleSelector&&(a(b.autoSlideToggleSelector).css({cursor:"pointer"}),a(b.autoSlideToggleSelector).unbind(Y).bind(Y,function(){ea?(d.autoSlide(C,B,g,x,s,p,q,k,D,L,h,c,N,F,m,b),ea=!1,a(b.autoSlideToggleSelector).removeClass("on")):(d.autoSlidePause(c),ea=!0,a(b.autoSlideToggleSelector).addClass("on"))})),!ea&&!P&&d.autoSlide(C,B,g,x,s,p,q,k,D,L,h,c,N,F,m,b),M?a(j).bind("touchend.iosSliderEvent",function(){!ea&&!P&&d.autoSlide(C,B,g,x,s,p,q,k,D,L,h,c,N,F,m,b)}):(a(j).bind("mouseenter.iosSliderEvent", function(){d.autoSlidePause(c)}),a(j).bind("mouseleave.iosSliderEvent",function(){!ea&&!P&&d.autoSlide(C,B,g,x,s,p,q,k,D,L,h,c,N,F,m,b)})));a(j).data("iosslider",{obj:Ba,settings:b,scrollerNode:C,slideNodes:B,numberOfSlides:F,centeredSlideOffset:m,sliderNumber:c,originalOffsets:L,childrenOffsets:h,sliderMax:n[c],scrollbarClass:x,scrollbarWidth:s,scrollbarStageWidth:q,stageWidth:p,scrollMargin:k,scrollBorder:D,infiniteSliderOffset:y[c],infiniteSliderWidth:N});J=!1;return!0}la++;var c=la,g=[];T[c]= b;f[c]=0;n[c]=0;var O=[0,0],K=[0,0],v="scrollbarBlock"+la,x="scrollbar"+la,I,w,q,s,l,z,m=0,j=a(this),p,r,k,D,A,J=!0,H=-1,h,L=[],S=0,R=0,ca=0,C=a(this).children(":first-child"),B,pa,W,F=a(C).children().not("script").size(),U=!1,ha=0,xa=!1,qa=void 0,N;y[c]=0;var P=!1;na[c]=-1;var ea=!1;ua[c]=!1;var ra,sa=!1,ja=!1,X,Y=M?"touchstart.iosSliderEvent":"click.iosSliderEvent",wa,za,oa;da[c]=!1;ia[c]=[];b.scrollbarDrag&&(b.scrollbar=!0,b.scrollbarHide=!1);var Ba=a(this);if(void 0!=Ba.data("iosslider"))return!0; a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});b.infiniteSlider&&(b.scrollbar=!1);b.scrollbar&&(""!=b.scrollbarContainer?a(b.scrollbarContainer).append("<div class = '"+v+"'><div class = '"+x+"'></div></div>"):a(C).parent().append("<div class = '"+v+"'><div class = '"+x+"'></div></div>"));if(!e())return!0;a(this).find("a").bind("mousedown",d.preventDrag);a(this).find("[onclick]").bind("click",d.preventDrag).each(function(){a(this).data("onclick",this.onclick)}); var H=d.calcActiveOffset(b,d.getSliderOffset(a(C),"x"),h,p,y[c],F,void 0,c),H=(H+y[c]+F)%F,fa=new d.args(b,C,a(C).children(":eq("+H+")"),H,H,!1);a(j).data("args",fa);if(""!=b.onSliderLoaded)b.onSliderLoaded(fa);na[c]=H;if(T[c].responsiveSlides||T[c].responsiveSlideContainer)H=Ca?"orientationchange":"resize",a(window).bind(H+".iosSliderEvent",function(){if(!e())return!0;var c=a(j).data("args");if(""!=b.onSliderResize)b.onSliderResize(c)});b.keyboardControls&&!P&&a(document).bind("keydown.iosSliderEvent", function(a){!Z&&!$&&(a=a.originalEvent);switch(a.keyCode){case 37:a=(G[c]+y[c]+F)%F;(0<a||b.infiniteSlider)&&d.changeSlide(a-1,C,B,g,x,s,p,q,k,D,L,h,c,N,F,m,b);break;case 39:a=(G[c]+y[c]+F)%F,(a<h.length-1||b.infiniteSlider)&&d.changeSlide(a+1,C,B,g,x,s,p,q,k,D,L,h,c,N,F,m,b)}});if(M||b.desktopClickDrag){var fa=M?"touchstart.iosSliderEvent":"mousedown.iosSliderEvent",ka=a(C),H=a(C),ya=!1;b.scrollbarDrag&&(ka=ka.add(I),H=H.add(w));a(ka).bind(fa,function(e){if(da[c]||P||(ya=d.isUnselectable(e.target, b)))return!0;ra=a(this)[0]===a(I)[0]?I:C;!Z&&!$&&(e=e.originalEvent);d.autoSlidePause(c);oa.unbind(".disableClick");M?(eventX=e.touches[0].pageX,eventY=e.touches[0].pageY):(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),eventX=e.pageX,eventY=e.pageY,xa=!0,qa=C,a(this).css({cursor:ta}));O=[0,0];K=[0,0];V=0;U=!1;for(e=0;e<g.length;e++)clearTimeout(g[e]); e=d.getSliderOffset(C,"x");e>-1*f[c]+m+X?(e=-1*f[c]+m+X,d.setSliderOffset(a("."+x),e),a("."+x).css({width:s-D+"px"})):e<-1*n[c]&&(d.setSliderOffset(a("."+x),q-k-s),a("."+x).css({width:s-D+"px"}));e=a(this)[0]===a(I)[0]?f[c]:0;R=-1*(d.getSliderOffset(this,"x")-eventX-e);d.getSliderOffset(this,"y");O[1]=eventX;K[1]=eventY;ja=!1});fa=M?"touchmove.iosSliderEvent":"mousemove.iosSliderEvent";a(H).bind(fa,function(e){!Z&&!$&&(e=e.originalEvent);if(da[c]||P||ya)return!0;var g=0;M||(window.getSelection?window.getSelection().empty? window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty());if(M)eventX=e.touches[0].pageX,eventY=e.touches[0].pageY;else if(eventX=e.pageX,eventY=e.pageY,!xa||!ma&&("undefined"!=typeof e.webkitMovementX||"undefined"!=typeof e.webkitMovementY)&&0===e.webkitMovementY&&0===e.webkitMovementX)return!1;O[0]=O[1];O[1]=eventX;V=(O[1]-O[0])/2;K[0]=K[1];K[1]=eventY;ba=(K[1]-K[0])/2;if(!U){var u=(G[c]+y[c]+F)%F, u=new d.args(b,C,a(C).children(":eq("+u+")"),u,u,!1);a(j).data("args",u);if(""!=b.onSlideStart)b.onSlideStart(u)}if((3<ba||-3>ba)&&3>V&&-3<V&&M&&!U)sa=!0;(5<V||-5>V)&&M?(e.preventDefault(),U=!0):M||(U=!0);if(U&&!sa){var u=d.getSliderOffset(C,"x"),l=a(this)[0]===a(w)[0]?f[c]:0,t=a(this)[0]===a(w)[0]?(f[c]-n[c])/(q-k-s):1,r=a(this)[0]===a(w)[0]?b.scrollbarElasticPullResistance:b.elasticPullResistance;M&&(ca!=e.touches.length&&(R=-1*u+eventX),ca=e.touches.length);if(b.infiniteSlider){if(u<=-1*n[c]){var v= a(C).width();if(u<=-1*va[c]){var z=-1*L[0];a(B).each(function(b){d.setSliderOffset(a(B)[b],z+m);b<h.length&&(h[b]=-1*z);z+=a(this).outerWidth(!0)});R-=-1*h[0];f[c]=-1*h[0]+m;n[c]=f[c]+v-p;y[c]=0}else{var H=0,J=d.getSliderOffset(a(B[0]),"x");a(B).each(function(a){d.getSliderOffset(this,"x")<J&&(J=d.getSliderOffset(this,"x"),H=a)});r=f[c]+v;d.setSliderOffset(a(B)[H],r);f[c]=-1*h[1]+m;n[c]=f[c]+v-p;h.splice(0,1);h.splice(h.length,0,-1*r+m);y[c]++}}if(u>=-1*f[c]||0<=u)if(v=a(C).width(),0<=u){z=-1*L[0]; a(B).each(function(b){d.setSliderOffset(a(B)[b],z+m);b<h.length&&(h[b]=-1*z);z+=a(this).outerWidth(!0)});R+=-1*h[0];f[c]=-1*h[0]+m;n[c]=f[c]+v-p;for(y[c]=F;0<-1*h[0]-v+m;){var I=0,N=d.getSliderOffset(a(B[0]),"x");a(B).each(function(a){d.getSliderOffset(this,"x")>N&&(N=d.getSliderOffset(this,"x"),I=a)});r=f[c]-a(B[I]).outerWidth(!0);d.setSliderOffset(a(B)[I],r);h.splice(0,0,-1*r+m);h.splice(h.length-1,1);f[c]=-1*h[0]+m;n[c]=f[c]+v-p;y[c]--;G[c]++}}else I=0,N=d.getSliderOffset(a(B[0]),"x"),a(B).each(function(a){d.getSliderOffset(this, "x")>N&&(N=d.getSliderOffset(this,"x"),I=a)}),r=f[c]-a(B[I]).outerWidth(!0),d.setSliderOffset(a(B)[I],r),h.splice(0,0,-1*r+m),h.splice(h.length-1,1),f[c]=-1*h[0]+m,n[c]=f[c]+v-p,y[c]--}else v=a(C).width(),u>-1*f[c]+m&&(g=-1*(f[c]+-1*(R-l-eventX+m)*t-l)*r/t),u<-1*n[c]&&(g=-1*(n[c]+-1*(R-l-eventX)*t-l)*r/t);d.setSliderOffset(C,-1*(R-l-eventX-g)*t-l);b.scrollbar&&(d.showScrollbar(b,x),Q=Math.floor((R-eventX-g-f[c]+m)/(n[c]-f[c])*(q-k-s)*t),l=s,u>=-1*f[c]+m+v?(l=s-D- -1*Q,d.setSliderOffset(a("."+x),0), a("."+x).css({width:l+"px"})):u<=-1*n[c]+1?(l=q-k-D-Q,d.setSliderOffset(a("."+x),Q),a("."+x).css({width:l+"px"})):d.setSliderOffset(a("."+x),Q));M&&(A=e.touches[0].pageX);e=!1;g=d.calcActiveOffset(b,-1*(R-eventX-g),h,p,y[c],F,void 0,c);v=(g+y[c]+F)%F;b.infiniteSlider?v!=aa[c]&&(e=!0):g!=G[c]&&(e=!0);if(e&&(G[c]=g,aa[c]=v,ja=!0,u=new d.args(b,C,a(C).children(":eq("+v+")"),v,v,!0),a(j).data("args",u),""!=b.onSlideChange))b.onSlideChange(u)}});a(ka).bind("touchend.iosSliderEvent",function(a){a=a.originalEvent; if(da[c]||P||ya)return!0;if(0!=a.touches.length)for(var e=0;e<a.touches.length;e++)a.touches[e].pageX==A&&d.slowScrollHorizontal(C,B,g,x,V,ba,s,p,q,k,D,L,h,c,N,F,ra,ja,m,b);else d.slowScrollHorizontal(C,B,g,x,V,ba,s,p,q,k,D,L,h,c,N,F,ra,ja,m,b);sa=!1});if(!M){H=a(window);if($||Z)H=a(document);a(H).bind("mouseup.iosSliderEvent"+c,function(){U?wa.unbind("click.disableClick").bind("click.disableClick",d.preventClick):wa.unbind("click.disableClick").bind("click.disableClick",d.enableClick);za.each(function(){this.onclick= function(b){if(U)return!1;a(this).data("onclick").call(this,b||window.event)}});1.8<=parseFloat(a().jquery)?oa.each(function(){var b=a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1;a(this).one("click.disableClick",d.preventClick);var b=a._data(this,"events").click,c=b.pop();b.splice(0,0,c)}}):1.6<=parseFloat(a().jquery)&&oa.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1; a(this).one("click.disableClick",d.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!ua[c]){if(P)return!0;a(ka).css({cursor:ga});xa=!1;if(void 0==qa)return!1;d.slowScrollHorizontal(qa,B,g,x,V,ba,s,p,q,k,D,L,h,c,N,F,ra,ja,m,b);qa=void 0}sa=!1})}}})},destroy:function(e,g){void 0==g&&(g=this);return a(g).each(function(){var b=a(this),g=b.data("iosslider");if(void 0==g)return!1;void 0==e&&(e=!0);d.autoSlidePause(g.sliderNumber);ua[g.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+ g.sliderNumber);a(document).unbind(".iosSliderEvent-"+g.sliderNumber);a(document).unbind("keydown.iosSliderEvent");a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");e&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(g.settings.navSlideSelector).attr("style",""),a(g.settings.navPrevSelector).attr("style", ""),a(g.settings.navNextSelector).attr("style",""),a(g.settings.autoSlideToggleSelector).attr("style",""),a(g.settings.unselectableSelector).attr("style",""));g.settings.scrollbar&&a(".scrollbarBlock"+g.sliderNumber).remove();for(var g=ia[g.sliderNumber],c=0;c<g.length;c++)clearTimeout(g[c]);b.removeData("iosslider")})},update:function(e){void 0==e&&(e=this);return a(e).each(function(){var e=a(this),b=e.data("iosslider");if(void 0==b)return!1;S.destroy(!1,this);b.settings.startAtSlide=e.data("args").currentSlideNumber; 1!=b.numberOfSlides&&b.settings.infiniteSlider&&(b.settings.startAtSlide=(G[b.sliderNumber]+1+y[b.sliderNumber]+b.numberOfSlides)%b.numberOfSlides);S.init(b.settings,this);e=new d.args(b.settings,b.scrollerNode,a(b.scrollerNode).children(":eq("+(b.settings.startAtSlide-1)+")"),b.settings.startAtSlide-1,b.settings.startAtSlide-1,!1);a(b.stageNode).data("args",e);if(""!=b.settings.onSliderUpdate)b.settings.onSliderUpdate(e)})},addSlide:function(e,d){return this.each(function(){var b=a(this),f=b.data("iosslider"); if(void 0==f)return!1;f.settings.infiniteSlider?(1==d?a(f.scrollerNode).children(":eq(0)").before(e):a(f.scrollerNode).children(":eq("+(d-2)+")").after(e),-1>y[f.sliderNumber]&&G[f.sliderNumber]--,b.data("args").currentSlideNumber>=d&&G[f.sliderNumber]++):(d<=f.numberOfSlides?a(f.scrollerNode).children(":eq("+(d-1)+")").before(e):a(f.scrollerNode).children(":eq("+(d-2)+")").after(e),b.data("args").currentSlideNumber>=d&&b.data("args").currentSlideNumber++);b.data("iosslider").numberOfSlides++;S.update(this)})}, removeSlide:function(e){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;a(d.scrollerNode).children(":eq("+(e-1)+")").remove();G[d.sliderNumber]>e-1&&G[d.sliderNumber]--;S.update(this)})},goToSlide:function(e,f){void 0==f&&(f=this);return a(f).each(function(){var b=a(this).data("iosslider");if(void 0==b)return!1;e=e>b.childrenOffsets.length?b.childrenOffsets.length-1:e-1;d.changeSlide(e,a(b.scrollerNode),a(b.slideNodes),ia[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth, b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);G[b.sliderNumber]=e})},lock:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;da[d.sliderNumber]=!0})},unlock:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;da[d.sliderNumber]=!1})},getData:function(){return this.each(function(){var d= a(this).data("iosslider");return void 0==d?!1:d})}};a.fn.iosSlider=function(d){if(S[d])return S[d].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof d||!d)return S.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);
\ No newline at end of file
+(function(a){var ma=0,W=0,ca=0,M=0,Ba="ontouchstart"in window,Ca="onorientationchange"in window,da=!1,$=!1,X=!1,na=!1,fa="pointer",sa="pointer",ga=[],S=[],ta=[],Z=[],w=[],aa=[],F=[],j=[],q=[],ua=[],ea=[],e={showScrollbar:function(c,e){c.scrollbarHide&&a("."+e).css({opacity:c.scrollbarOpacity,filter:"alpha(opacity:"+100*c.scrollbarOpacity+")"})},hideScrollbar:function(a,f,b,x,d,g,j,q,G,v){if(a.scrollbar&&a.scrollbarHide)for(var w=b;w<b+25;w++)f[f.length]=e.hideScrollbarIntervalTimer(10*w,x[b],(b+24- w)/24,d,g,j,q,G,v,a)},hideScrollbarInterval:function(c,f,b,x,d,g,j,w,G){M=-1*c/q[w]*(d-g-j-x);e.setSliderOffset("."+b,M);a("."+b).css({opacity:G.scrollbarOpacity*f,filter:"alpha(opacity:"+100*G.scrollbarOpacity*f+")"})},slowScrollHorizontalInterval:function(c,f,b,x,d,g,T,N,G,v,K,y,r,s,E,n,k,z,h){if(h.infiniteSlider){if(b<=-1*q[n]){var B=a(c).width();if(b<=-1*ua[n]){var p=-1*K[0];a(f).each(function(b){e.setSliderOffset(a(f)[b],p+k);b<y.length&&(y[b]=-1*p);p+=E[b]});b+=-1*y[0];j[n]=-1*y[0]+k;q[n]=j[n]+ B-g;F[n]=0}else{var m=0,I=e.getSliderOffset(a(f[0]),"x");a(f).each(function(a){e.getSliderOffset(this,"x")<I&&(I=e.getSliderOffset(this,"x"),m=a)});r=j[n]+B;e.setSliderOffset(a(f)[m],r);j[n]=-1*y[1]+k;q[n]=j[n]+B-g;y.splice(0,1);y.splice(y.length,0,-1*r+k);F[n]++}}if(b>=-1*j[n]||0<=b){B=a(c).width();if(0<=b){p=-1*K[0];a(f).each(function(b){e.setSliderOffset(a(f)[b],p+k);b<y.length&&(y[b]=-1*p);p+=E[b]});b-=-1*y[0];j[n]=-1*y[0]+k;q[n]=j[n]+B-g;for(F[n]=s;0<-1*y[0]-B+k;){var u=0,t=e.getSliderOffset(a(f[0]), "x");a(f).each(function(b){e.getSliderOffset(this,"x")>t&&(t=e.getSliderOffset(this,"x"),u=b)});r=j[n]-E[u];e.setSliderOffset(a(f)[u],r);y.splice(0,0,-1*r+k);y.splice(y.length-1,1);j[n]=-1*y[0]+k;q[n]=j[n]+B-g;F[n]--;w[n]++}}0>b&&(u=0,t=e.getSliderOffset(a(f[0]),"x"),a(f).each(function(b){e.getSliderOffset(this,"x")>t&&(t=e.getSliderOffset(this,"x"),u=b)}),r=j[n]-E[u],e.setSliderOffset(a(f)[u],r),y.splice(0,0,-1*r+k),y.splice(y.length-1,1),j[n]=-1*y[0]+k,q[n]=j[n]+B-g,F[n]--)}}K=!1;g=e.calcActiveOffset(h, b,y,g,F[n],s,v,n);r=(g+F[n]+s)%s;h.infiniteSlider?r!=aa[n]&&(K=!0):g!=w[n]&&(K=!0);if(K&&(s=new e.args("change",h,c,a(c).children(":eq("+r+")"),r,z),a(c).parent().data("args",s),""!=h.onSlideChange))h.onSlideChange(s);w[n]=g;aa[n]=r;b=Math.floor(b);e.setSliderOffset(c,b);h.scrollbar&&(M=Math.floor((-1*b-j[n]+k)/(q[n]-j[n]+k)*(T-N-d)),c=d-G,b>=-1*j[n]+k?(c=d-G- -1*M,e.setSliderOffset(a("."+x),0)):(b<=-1*q[n]+1&&(c=T-N-G-M),e.setSliderOffset(a("."+x),M)),a("."+x).css({width:c+"px"}))},slowScrollHorizontal:function(c, f,b,x,d,g,T,N,G,v,K,y,r,s,E,n,k,z,h,B,p){var m=e.getSliderOffset(c,"x");g=[];var I=0,u=25/1024*N;frictionCoefficient=p.frictionCoefficient;elasticFrictionCoefficient=p.elasticFrictionCoefficient;snapFrictionCoefficient=p.snapFrictionCoefficient;d>p.snapVelocityThreshold&&p.snapToChildren&&!h?I=1:d<-1*p.snapVelocityThreshold&&(p.snapToChildren&&!h)&&(I=-1);d<-1*u?d=-1*u:d>u&&(d=u);a(c)[0]!==a(z)[0]&&(I*=-1,d*=-2);z=F[E];if(p.infiniteSlider)var t=j[E],l=q[E];h=[];for(var u=[],C=0;C<r.length;C++)h[C]= r[C],C<f.length&&(u[C]=e.getSliderOffset(a(f[C]),"x"));for(;1<d||-1>d;){d*=frictionCoefficient;m+=d;if((m>-1*j[E]||m<-1*q[E])&&!p.infiniteSlider)d*=elasticFrictionCoefficient,m+=d;if(p.infiniteSlider){if(m<=-1*l){for(var l=a(c).width(),M=0,P=u[0],C=0;C<u.length;C++)u[C]<P&&(P=u[C],M=C);C=t+l;u[M]=C;t=-1*h[1]+B;l=t+l-N;h.splice(0,1);h.splice(h.length,0,-1*C+B);z++}if(m>=-1*t){l=a(c).width();M=0;P=u[0];for(C=0;C<u.length;C++)u[C]>P&&(P=u[C],M=C);C=t-s[M];u[M]=C;h.splice(0,0,-1*C+B);h.splice(h.length- 1,1);t=-1*h[0]+B;l=t+l-N;z--}}g[g.length]=m}u=!1;d=e.calcActiveOffset(p,m,h,N,z,k,w[E],E);t=(d+z+k)%k;p.snapToChildren&&(p.infiniteSlider?t!=aa[E]&&(u=!0):d!=w[E]&&(u=!0),0>I&&!u?(d++,d>=r.length&&!p.infinteSlider&&(d=r.length-1)):0<I&&!u&&(d--,0>d&&!p.infinteSlider&&(d=0)));if(p.snapToChildren||(m>-1*j[E]||m<-1*q[E])&&!p.infiniteSlider){(m>-1*j[E]||m<-1*q[E])&&!p.infiniteSlider?g.splice(0,g.length):(g.splice(0.1*g.length,g.length),m=0<g.length?g[g.length-1]:m);for(;m<h[d]-0.5||m>h[d]+0.5;)m=(m-h[d])* snapFrictionCoefficient+h[d],g[g.length]=m;g[g.length]=h[d]}I=1;0!=g.length%2&&(I=0);for(m=0;m<b.length;m++)clearTimeout(b[m]);z=(d+z+k)%k;t=0;for(m=I;m<g.length;m+=2)if(m==I||1<Math.abs(g[m]-t)||m>=g.length-2)t=g[m],b[b.length]=e.slowScrollHorizontalIntervalTimer(10*m,c,f,g[m],x,T,N,G,v,K,d,y,r,n,k,s,E,B,z,p);t=(d+F[E]+k)%k;""!=p.onSlideComplete&&1<g.length&&(b[b.length]=e.onSlideCompleteTimer(10*(m+1),p,c,a(c).children(":eq("+t+")"),z,E));Z[E]=b;e.hideScrollbar(p,b,m,g,x,T,N,v,K,E)},onSlideComplete:function(c, f,b,x){b=new e.args("complete",c,a(f),b,x,x);a(f).parent().data("args",b);if(""!=c.onSlideComplete)c.onSlideComplete(b)},getSliderOffset:function(c,e){var b=0;e="x"==e?4:5;if(da&&!$&&!X){for(var b=["-webkit-transform","-moz-transform","transform"],x=0;x<b.length;x++)if(void 0!=a(c).css(b[x])&&0<a(c).css(b[x]).length){var d=a(c).css(b[x]).split(",");break}b=parseInt(d[e],10)}else b=parseInt(a(c).css("left"),10);return b},setSliderOffset:function(c,e){da&&!$&&!X?a(c).css({webkitTransform:"matrix(1,0,0,1,"+ e+",0)",MozTransform:"matrix(1,0,0,1,"+e+",0)",transform:"matrix(1,0,0,1,"+e+",0)"}):a(c).css({left:e+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(fa="-webkit-grab",sa="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(fa="move",sa="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?na=$=!0:null!=navigator.userAgent.match("MSIE 8")?na=X=!0:null!=navigator.userAgent.match("MSIE 9")&&(na=!0)},has3DTransform:function(){var c=!1,e=a("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)", MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});""==e.attr("style")?c=!1:void 0!=e.attr("style")&&(c=!0);return c},getSlideNumber:function(a,e,b){return(a-F[e]+b)%b},calcActiveOffset:function(a,e,b,x,d,g){d=!1;a=[];var j;e>b[0]&&(j=0);e<b[b.length-1]&&(j=g-1);for(g=0;g<b.length;g++)b[g]<=e&&b[g]>e-x&&(!d&&b[g]!=e&&(a[a.length]=b[g-1]),a[a.length]=b[g],d=!0);0==a.length&&(a[0]=b[b.length-1]);for(g=d=0;g<a.length;g++){var q=Math.abs(e-a[g]);q<x&&(d=a[g],x=q)}for(g=0;g<b.length;g++)d== b[g]&&(j=g);return j},changeSlide:function(c,f,b,x,d,g,j,q,G,v,K,y,r,s,E,n,k,z){e.autoSlidePause(s);for(var h=0;h<x.length;h++)clearTimeout(x[h]);var B=Math.ceil(z.autoSlideTransTimer/10)+1,p=e.getSliderOffset(f,"x"),m=y[c],m=m-p,I=c-(w[s]+F[s]+n)%n;if(z.infiniteSlider){c=(c-F[s]+2*n)%n;h=!1;0==c&&2==n&&(c=n,y[c]=y[c-1]-a(b).eq(0).outerWidth(!0),h=!0);var m=y[c],m=m-p,u=[y[c]-a(f).width(),y[c]+a(f).width()];h&&y.splice(y.length-1,1);for(h=0;h<u.length;h++)Math.abs(u[h]-p)<Math.abs(m)&&(m=u[h]-p); 0>m&&-1==I?m+=a(f).width():0<m&&1==I&&(m-=a(f).width())}I=[];e.showScrollbar(z,d);for(h=0;h<=B;h++)u=h,u/=B,u--,u=p+m*(Math.pow(u,5)+1),I[I.length]=u;for(h=p=0;h<I.length;h++){if(0==h||1<Math.abs(I[h]-p)||h>=I.length-2)p=I[h],x[h]=e.slowScrollHorizontalIntervalTimer(10*(h+1),f,b,I[h],d,g,j,q,G,v,c,K,y,E,n,r,s,k,c,z);0==h&&""!=z.onSlideStart&&(B=(w[s]+F[s]+n)%n,z.onSlideStart(new e.args("start",z,f,a(f).children(":eq("+B+")"),B,c)))}p=!1;B=(c+F[s]+n)%n;z.infiniteSlider?B!=aa[s]&&(p=!0):c!=w[s]&&(p= !0);p&&""!=z.onSlideComplete&&(x[x.length]=e.onSlideCompleteTimer(10*(h+1),z,f,a(f).children(":eq("+B+")"),B,s));Z[s]=x;e.hideScrollbar(z,x,h,I,d,g,j,G,v,s);e.autoSlide(f,b,x,d,g,j,q,G,v,K,y,r,s,E,n,k,z)},autoSlide:function(a,f,b,x,d,g,j,q,G,v,K,y,r,s,E,n,k){if(!S[r].autoSlide)return!1;e.autoSlidePause(r);ga[r]=setTimeout(function(){!k.infiniteSlider&&w[r]>K.length-1&&(w[r]-=E);e.changeSlide((w[r]+F[r]+E+1)%E,a,f,b,x,d,g,j,q,G,v,K,y,r,s,E,n,k);e.autoSlide(a,f,b,x,d,g,j,q,G,v,K,y,r,s,E,n,k)},k.autoSlideTimer+ k.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(ga[a])},isUnselectable:function(c,e){return""!=e.unselectableSelector&&1==a(c).closest(e.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,f,b,x,d,g,j,q,w,v,F,y,r,s,E,n,k,z,h,B){return setTimeout(function(){e.slowScrollHorizontalInterval(f,b,x,d,g,j,q,w,v,F,y,r,s,E,n,k,z,h,B)},a)},onSlideCompleteTimer:function(a,f,b,x,d,g){return setTimeout(function(){e.onSlideComplete(f,b,x,d,g)},a)},hideScrollbarIntervalTimer:function(a, f,b,x,d,g,j,q,w,v){return setTimeout(function(){e.hideScrollbarInterval(f,b,x,d,g,j,q,w,v)},a)},args:function(c,f,b,j,d,g){this.prevSlideNumber=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideNumber;this.prevSlideObject=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideObject;this.targetSlideNumber=g+1;this.targetSlideObject=a(b).children(":eq("+this.targetSlideOffset+")");this.slideChanged=!1;"load"==c?this.targetSlideObject=this.targetSlideNumber= void 0:"start"==c?this.targetSlideObject=this.targetSlideNumber=void 0:"change"==c?(this.slideChanged=!0,this.prevSlideNumber=void 0==a(b).parent().data("args")?f.startAtSlide:a(b).parent().data("args").currentSlideNumber,this.prevSlideObject=a(b).children(":eq("+this.prevSlideNumber+")")):"complete"==c&&(this.slideChanged=a(b).parent().data("args").slideChanged);this.settings=f;this.data=a(b).parent().data("iosslider");this.sliderObject=b;this.sliderContainerObject=a(b).parent();this.currentSlideObject= j;this.currentSlideNumber=d+1;this.currentSliderOffset=-1*e.getSliderOffset(b,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};e.setBrowserInfo();var V={init:function(c,f){da=e.has3DTransform();var b=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1, scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750, infiniteSlider:!1,snapVelocityThreshold:5,slideStartVelocityThreshold:0,horizontalSlideLockThreshold:5,verticalSlideLockThreshold:3,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},c);void 0==f&&(f=this);return a(f).each(function(){function c(){e.autoSlidePause(d);va=a(D).find("a");za=a(D).find("[onclick]");oa=a(D).find("*");a(z).css("width", "");a(z).css("height","");a(D).css("width","");A=a(D).children().not("script").get();ha=[];L=[];a(A).css("width","");q[d]=0;l=[];E=a(z).parent().width();h=a(z).outerWidth(!0);b.responsiveSlideContainer&&(h=a(z).outerWidth(!0)>E?E:a(z).outerWidth(!0));a(z).css({position:b.stageCSS.position,top:b.stageCSS.top,left:b.stageCSS.left,overflow:b.stageCSS.overflow,zIndex:b.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",msTouchAction:"pan-y",width:h});a(b.unselectableSelector).css({cursor:"default"}); for(var H=0;H<A.length;H++){ha[H]=a(A[H]).width();L[H]=a(A[H]).outerWidth(!0);var x=L[H];b.responsiveSlides&&(x=L[H]>h?h+-1*(L[H]-ha[H]):ha[H],a(A[H]).css({width:x}));a(A[H]).css({webkitBackfaceVisibility:"hidden",position:"absolute",top:0});l[H]=-1*q[d];q[d]=q[d]+x+(L[H]-ha[H])}b.snapSlideCenter&&(k=0.5*(h-L[0]),b.responsiveSlides&&L[0]>h&&(k=0));ua[d]=2*q[d];for(H=0;H<A.length;H++)e.setSliderOffset(a(A[H]),-1*l[H]+q[d]+k),l[H]-=q[d];if(!b.infiniteSlider&&!b.snapSlideCenter){for(H=0;H<l.length&& !(l[H]<=-1*(2*q[d]-h));H++)ga=H;l.splice(ga+1,l.length);l[l.length]=-1*(2*q[d]-h)}for(H=0;H<l.length;H++)C[H]=l[H];u&&(b.startAtSlide=S[d].startAtSlide>l.length?l.length:S[d].startAtSlide,b.infiniteSlider?(b.startAtSlide=(S[d].startAtSlide-1+J)%J,w[d]=S[d].startAtSlide):(b.startAtSlide=0>S[d].startAtSlide-1?l.length-1:S[d].startAtSlide,w[d]=S[d].startAtSlide-1),aa[d]=w[d]);j[d]=q[d]+k;a(D).css({position:"relative",cursor:fa,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:q[d]+"px"}); Q=q[d];q[d]=2*q[d]-h+2*k;(Y=Q<h?!0:!1)&&a(D).css({cursor:"default"});n=a(z).parent().outerHeight(!0);B=a(z).height();b.responsiveSlideContainer&&(B=B>n?n:B);a(z).css({height:B});e.setSliderOffset(D,l[w[d]]);if(b.infiniteSlider&&!Y){H=e.getSliderOffset(a(D),"x");for(x=-1*((F[d]+J)%J);0>x;){var t=0,ia=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")<ia&&(ia=e.getSliderOffset(this,"x"),t=a)});var I=j[d]+Q;e.setSliderOffset(a(A)[t],I);j[d]=-1*l[1]+k;q[d]=j[d]+Q-h;l.splice(0, 1);l.splice(l.length,0,-1*I+k);x++}for(;0<-1*l[0]-Q+k&&b.snapSlideCenter&&u;){var M=0,N=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")>N&&(N=e.getSliderOffset(this,"x"),M=a)});I=j[d]-L[M];e.setSliderOffset(a(A)[M],I);l.splice(0,0,-1*I+k);l.splice(l.length-1,1);j[d]=-1*l[0]+k;q[d]=j[d]+Q-h;F[d]--;w[d]++}for(;H<=-1*q[d];)t=0,ia=e.getSliderOffset(a(A[0]),"x"),a(A).each(function(a){e.getSliderOffset(this,"x")<ia&&(ia=e.getSliderOffset(this,"x"),t=a)}),I=j[d]+Q,e.setSliderOffset(a(A)[t], I),j[d]=-1*l[1]+k,q[d]=j[d]+Q-h,l.splice(0,1),l.splice(l.length,0,-1*I+k),F[d]++,w[d]--}e.setSliderOffset(D,l[w[d]]);b.desktopClickDrag||a(D).css({cursor:"default"});b.scrollbar&&(a("."+G).css({margin:b.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+G+" ."+v).css({border:b.scrollbarBorder}),p=parseInt(a("."+G).css("marginLeft"))+parseInt(a("."+G).css("marginRight")),m=parseInt(a("."+G+" ."+v).css("borderLeftWidth"),10)+parseInt(a("."+G+" ."+v).css("borderRightWidth"),10),r=""!=b.scrollbarContainer? a(b.scrollbarContainer).width():h,s=h/Q*(r-p),b.scrollbarHide||(V=b.scrollbarOpacity),a("."+G).css({position:"absolute",left:0,width:r-p+"px",margin:b.scrollbarMargin}),"top"==b.scrollbarLocation?a("."+G).css("top","0"):a("."+G).css("bottom","0"),a("."+G+" ."+v).css({borderRadius:b.scrollbarBorderRadius,background:b.scrollbarBackground,height:b.scrollbarHeight,width:s-m+"px",minWidth:b.scrollbarHeight,border:b.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative", opacity:V,filter:"alpha(opacity:"+100*V+")",boxShadow:b.scrollbarShadow}),e.setSliderOffset(a("."+G+" ."+v),Math.floor((-1*l[w[d]]-j[d]+k)/(q[d]-j[d]+k)*(r-p-s))),a("."+G).css({display:"block"}),K=a("."+G+" ."+v),y=a("."+G));b.scrollbarDrag&&!Y&&a("."+G+" ."+v).css({cursor:fa});b.infiniteSlider&&(R=(q[d]+h)/3);""!=b.navSlideSelector&&a(b.navSlideSelector).each(function(c){a(this).css({cursor:"pointer"});a(this).unbind(O).bind(O,function(H){"touchstart"==H.type?a(this).unbind("click.iosSliderEvent"): a(this).unbind("touchstart.iosSliderEvent");O=H.type+".iosSliderEvent";e.changeSlide(c,D,A,f,v,s,h,r,p,m,C,l,L,d,R,J,k,b)})});""!=b.navPrevSelector&&(a(b.navPrevSelector).css({cursor:"pointer"}),a(b.navPrevSelector).unbind(O).bind(O,function(c){"touchstart"==c.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");O=c.type+".iosSliderEvent";c=(w[d]+F[d]+J)%J;(0<c||b.infiniteSlider)&&e.changeSlide(c-1,D,A,f,v,s,h,r,p,m,C,l,L,d,R,J,k,b)}));""!=b.navNextSelector&&(a(b.navNextSelector).css({cursor:"pointer"}), a(b.navNextSelector).unbind(O).bind(O,function(c){"touchstart"==c.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");O=c.type+".iosSliderEvent";c=(w[d]+F[d]+J)%J;(c<l.length-1||b.infiniteSlider)&&e.changeSlide(c+1,D,A,f,v,s,h,r,p,m,C,l,L,d,R,J,k,b)}));b.autoSlide&&!Y&&""!=b.autoSlideToggleSelector&&(a(b.autoSlideToggleSelector).css({cursor:"pointer"}),a(b.autoSlideToggleSelector).unbind(O).bind(O,function(c){"touchstart"==c.type?a(this).unbind("click.iosSliderEvent"): a(this).unbind("touchstart.iosSliderEvent");O=c.type+".iosSliderEvent";wa?(e.autoSlide(D,A,f,v,s,h,r,p,m,C,l,L,d,R,J,k,b),wa=!1,a(b.autoSlideToggleSelector).removeClass("on")):(e.autoSlidePause(d),wa=!0,a(b.autoSlideToggleSelector).addClass("on"))}));e.autoSlide(D,A,f,v,s,h,r,p,m,C,l,L,d,R,J,k,b);a(z).bind("mouseleave.iosSliderEvent",function(){e.autoSlide(D,A,f,v,s,h,r,p,m,C,l,L,d,R,J,k,b)});a(z).bind("touchend.iosSliderEvent",function(){e.autoSlide(D,A,f,v,s,h,r,p,m,C,l,L,d,R,J,k,b)});a(z).bind("mouseenter.iosSliderEvent", function(){e.autoSlidePause(d)});a(z).data("iosslider",{obj:Aa,settings:b,scrollerNode:D,slideNodes:A,numberOfSlides:J,centeredSlideOffset:k,sliderNumber:d,originalOffsets:C,childrenOffsets:l,sliderMax:q[d],scrollbarClass:v,scrollbarWidth:s,scrollbarStageWidth:r,stageWidth:h,scrollMargin:p,scrollBorder:m,infiniteSliderOffset:F[d],infiniteSliderWidth:R,slideNodeOuterWidths:L});u=!1;return!0}ma++;var d=ma,f=[];S[d]=b;j[d]=0;q[d]=0;var T=[0,0],N=[0,0],G="scrollbarBlock"+ma,v="scrollbar"+ma,K,y,r,s,E, n,k=0,z=a(this),h,B,p,m,I,u=!0,t=-1,l,C=[],V=0,P=0,da=0,D=a(this).children(":first-child"),A,ha,L,J=a(D).children().not("script").size(),U=!1,ga=0,xa=!1,pa=void 0,R;F[d]=0;var Y=!1,wa=!1;ta[d]=!1;var qa,ra=!1,ja=!1,O="touchstart.iosSliderEvent click.iosSliderEvent",Q,va,za,oa;ea[d]=!1;Z[d]=[];b.scrollbarDrag&&(b.scrollbar=!0,b.scrollbarHide=!1);var Aa=a(this);if(void 0!=Aa.data("iosslider"))return!0;a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});b.infiniteSlider&& (b.scrollbar=!1);b.infiniteSlider&&1==J&&(b.infiniteSlider=!1);b.scrollbar&&(""!=b.scrollbarContainer?a(b.scrollbarContainer).append("<div class = '"+G+"'><div class = '"+v+"'></div></div>"):a(D).parent().append("<div class = '"+G+"'><div class = '"+v+"'></div></div>"));if(!c())return!0;a(this).find("a").bind("mousedown",e.preventDrag);a(this).find("[onclick]").bind("click",e.preventDrag).each(function(){a(this).data("onclick",this.onclick)});t=e.calcActiveOffset(b,e.getSliderOffset(a(D),"x"),l,h, F[d],J,void 0,d);t=(t+F[d]+J)%J;t=new e.args("load",b,D,a(D).children(":eq("+t+")"),t,t);a(z).data("args",t);if(""!=b.onSliderLoaded)b.onSliderLoaded(t);if(S[d].responsiveSlides||S[d].responsiveSlideContainer)t=Ca?"orientationchange":"resize",a(window).bind(t+".iosSliderEvent-"+d,function(){if(!c())return!0;var d=a(z).data("args");if(""!=b.onSliderResize)b.onSliderResize(d)});(b.keyboardControls||b.tabToAdvance)&&!Y&&a(document).bind("keydown.iosSliderEvent",function(a){!$&&!X&&(a=a.originalEvent); if(37==a.keyCode&&b.keyboardControls)a.preventDefault(),a=(w[d]+F[d]+J)%J,(0<a||b.infiniteSlider)&&e.changeSlide(a-1,D,A,f,v,s,h,r,p,m,C,l,L,d,R,J,k,b);else if(39==a.keyCode&&b.keyboardControls||9==a.keyCode&&b.tabToAdvance)a.preventDefault(),a=(w[d]+F[d]+J)%J,(a<l.length-1||b.infiniteSlider)&&e.changeSlide(a+1,D,A,f,v,s,h,r,p,m,C,l,L,d,R,J,k,b)});if(Ba||b.desktopClickDrag){var ba=!1,ka=a(D),la=a(D),ya=!1;b.scrollbarDrag&&(ka=ka.add(K),la=la.add(y));a(ka).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent", function(c){if(ba)return!0;ba=!0;"touchstart"==c.type?a(la).unbind("mousedown.iosSliderEvent"):a(la).unbind("touchstart.iosSliderEvent");if(ea[d]||Y||(ya=e.isUnselectable(c.target,b)))return U=ba=!1,!0;qa=a(this)[0]===a(K)[0]?K:D;!$&&!X&&(c=c.originalEvent);e.autoSlidePause(d);oa.unbind(".disableClick");if("touchstart"==c.type)eventX=c.touches[0].pageX,eventY=c.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&& window.getSelection().removeAllRanges();else if(document.selection)if(X)try{document.selection.empty()}catch(h){}else document.selection.empty();eventX=c.pageX;eventY=c.pageY;xa=!0;pa=D;a(this).css({cursor:sa})}T=[0,0];N=[0,0];W=0;U=!1;for(c=0;c<f.length;c++)clearTimeout(f[c]);c=e.getSliderOffset(D,"x");c>-1*j[d]+k+Q?(c=-1*j[d]+k+Q,e.setSliderOffset(a("."+v),c),a("."+v).css({width:s-m+"px"})):c<-1*q[d]&&(e.setSliderOffset(a("."+v),r-p-s),a("."+v).css({width:s-m+"px"}));c=a(this)[0]===a(K)[0]?j[d]: 0;P=-1*(e.getSliderOffset(this,"x")-eventX-c);e.getSliderOffset(this,"y");T[1]=eventX;N[1]=eventY;ja=!1});a(la).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(c){!$&&!X&&(c=c.originalEvent);if(ea[d]||Y||ya)return!0;var f=0;if("touchmove"==c.type)eventX=c.touches[0].pageX,eventY=c.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty||window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(X)try{document.selection.empty()}catch(x){}else document.selection.empty(); eventX=c.pageX;eventY=c.pageY;if(!xa||!na&&("undefined"!=typeof c.webkitMovementX||"undefined"!=typeof c.webkitMovementY)&&0===c.webkitMovementY&&0===c.webkitMovementX)return!0}T[0]=T[1];T[1]=eventX;W=(T[1]-T[0])/2;N[0]=N[1];N[1]=eventY;ca=(N[1]-N[0])/2;if(!U){var g=(w[d]+F[d]+J)%J,g=new e.args("start",b,D,a(D).children(":eq("+g+")"),g,void 0);a(z).data("args",g);if(""!=b.onSlideStart)b.onSlideStart(g)}if((ca>b.verticalSlideLockThreshold||ca<-1*b.verticalSlideLockThreshold)&&"touchmove"==c.type&& !U)ra=!0;(W>b.horizontalSlideLockThreshold||W<-1*b.horizontalSlideLockThreshold)&&"touchmove"==c.type&&c.preventDefault();if(W>b.slideStartVelocityThreshold||W<-1*b.slideStartVelocityThreshold)U=!0;if(U&&!ra){var g=e.getSliderOffset(D,"x"),n=a(this)[0]===a(y)[0]?j[d]:k,u=a(this)[0]===a(y)[0]?(j[d]-q[d]-k)/(r-p-s):1,t=a(this)[0]===a(y)[0]?b.scrollbarElasticPullResistance:b.elasticPullResistance,E=b.snapSlideCenter&&a(this)[0]===a(y)[0]?0:k,G=b.snapSlideCenter&&a(this)[0]===a(y)[0]?k:0;"touchmove"== c.type&&(da!=c.touches.length&&(P=-1*g+eventX),da=c.touches.length);if(b.infiniteSlider){if(g<=-1*q[d]){var B=a(D).width();if(g<=-1*ua[d]){var K=-1*C[0];a(A).each(function(b){e.setSliderOffset(a(A)[b],K+k);b<l.length&&(l[b]=-1*K);K+=L[b]});P-=-1*l[0];j[d]=-1*l[0]+k;q[d]=j[d]+B-h;F[d]=0}else{var R=0,S=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")<S&&(S=e.getSliderOffset(this,"x"),R=a)});t=j[d]+B;e.setSliderOffset(a(A)[R],t);j[d]=-1*l[1]+k;q[d]=j[d]+B-h;l.splice(0, 1);l.splice(l.length,0,-1*t+k);F[d]++}}if(g>=-1*j[d]||0<=g)if(B=a(D).width(),0<=g){K=-1*C[0];a(A).each(function(b){e.setSliderOffset(a(A)[b],K+k);b<l.length&&(l[b]=-1*K);K+=L[b]});P+=-1*l[0];j[d]=-1*l[0]+k;q[d]=j[d]+B-h;for(F[d]=J;0<-1*l[0]-B+k;){var O=0,Q=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")>Q&&(Q=e.getSliderOffset(this,"x"),O=a)});t=j[d]-L[O];e.setSliderOffset(a(A)[O],t);l.splice(0,0,-1*t+k);l.splice(l.length-1,1);j[d]=-1*l[0]+k;q[d]=j[d]+B-h;F[d]--;w[d]++}}else O= 0,Q=e.getSliderOffset(a(A[0]),"x"),a(A).each(function(a){e.getSliderOffset(this,"x")>Q&&(Q=e.getSliderOffset(this,"x"),O=a)}),t=j[d]-L[O],e.setSliderOffset(a(A)[O],t),l.splice(0,0,-1*t+k),l.splice(l.length-1,1),j[d]=-1*l[0]+k,q[d]=j[d]+B-h,F[d]--}else B=a(D).width(),g>-1*j[d]+k&&(f=-1*(j[d]+-1*(P-n-eventX+E)*u-n)*t/u),g<-1*q[d]&&(f=-1*(q[d]+G+-1*(P-n-eventX)*u-n)*t/u);e.setSliderOffset(D,-1*(P-n-eventX-f)*u-n+G);b.scrollbar&&(e.showScrollbar(b,v),M=Math.floor((P-eventX-f-j[d]+E)/(q[d]-j[d]+k)*(r- p-s)*u),g=s,0>=M?(g=s-m- -1*M,e.setSliderOffset(a("."+v),0),a("."+v).css({width:g+"px"})):M>=r-p-m-s?(g=r-p-m-M,e.setSliderOffset(a("."+v),M),a("."+v).css({width:g+"px"})):e.setSliderOffset(a("."+v),M));"touchmove"==c.type&&(I=c.touches[0].pageX);c=!1;f=e.calcActiveOffset(b,-1*(P-eventX-f),l,h,F[d],J,void 0,d);g=(f+F[d]+J)%J;b.infiniteSlider?g!=aa[d]&&(c=!0):f!=w[d]&&(c=!0);if(c&&(w[d]=f,aa[d]=g,ja=!0,g=new e.args("change",b,D,a(D).children(":eq("+g+")"),g,g),a(z).data("args",g),""!=b.onSlideChange))b.onSlideChange(g)}ba= !1});t=a(window);if(X||$)t=a(document);a(ka).bind("touchend.iosSliderEvent",function(a){a=a.originalEvent;if(ea[d]||Y||ya)return!0;if(0!=a.touches.length)for(var c=0;c<a.touches.length;c++)a.touches[c].pageX==I&&e.slowScrollHorizontal(D,A,f,v,W,ca,s,h,r,p,m,C,l,L,d,R,J,qa,ja,k,b);else e.slowScrollHorizontal(D,A,f,v,W,ca,s,h,r,p,m,C,l,L,d,R,J,qa,ja,k,b);ba=ra=!1});a(t).bind("mouseup.iosSliderEvent-"+d,function(){U?va.unbind("click.disableClick").bind("click.disableClick",e.preventClick):va.unbind("click.disableClick").bind("click.disableClick", e.enableClick);za.each(function(){this.onclick=function(b){if(U)return!1;a(this).data("onclick").call(this,b||window.event)}});1.8<=parseFloat(a().jquery)?oa.each(function(){var b=a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1;a(this).one("click.disableClick",e.preventClick);var b=a._data(this,"events").click,c=b.pop();b.splice(0,0,c)}}):1.6<=parseFloat(a().jquery)&&oa.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!= b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1;a(this).one("click.disableClick",e.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!ta[d]){if(Y)return!0;a(ka).css({cursor:fa});xa=!1;if(void 0==pa)return!0;e.slowScrollHorizontal(pa,A,f,v,W,ca,s,h,r,p,m,C,l,L,d,R,J,qa,ja,k,b);pa=void 0}ba=ra=!1})}})},destroy:function(c,f){void 0==f&&(f=this);return a(f).each(function(){var b=a(this),f=b.data("iosslider");if(void 0==f)return!1;void 0==c&&(c=!0);e.autoSlidePause(f.sliderNumber); ta[f.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+f.sliderNumber);a(document).unbind(".iosSliderEvent-"+f.sliderNumber);a(document).unbind("keydown.iosSliderEvent");a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");c&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(f.settings.navSlideSelector).attr("style", ""),a(f.settings.navPrevSelector).attr("style",""),a(f.settings.navNextSelector).attr("style",""),a(f.settings.autoSlideToggleSelector).attr("style",""),a(f.settings.unselectableSelector).attr("style",""));f.settings.scrollbar&&a(".scrollbarBlock"+f.sliderNumber).remove();for(var f=Z[f.sliderNumber],d=0;d<f.length;d++)clearTimeout(f[d]);b.removeData("iosslider");b.removeData("args")})},update:function(c){void 0==c&&(c=this);return a(c).each(function(){var c=a(this),b=c.data("iosslider");if(void 0== b)return!1;b.settings.startAtSlide=c.data("args").currentSlideNumber;V.destroy(!1,this);1!=b.numberOfSlides&&b.settings.infiniteSlider&&(b.settings.startAtSlide=(w[b.sliderNumber]+1+F[b.sliderNumber]+b.numberOfSlides)%b.numberOfSlides);V.init(b.settings,this);c=new e.args("update",b.settings,b.scrollerNode,a(b.scrollerNode).children(":eq("+(b.settings.startAtSlide-1)+")"),b.settings.startAtSlide-1,b.settings.startAtSlide-1);a(b.stageNode).data("args",c);if(""!=b.settings.onSliderUpdate)b.settings.onSliderUpdate(c)})}, addSlide:function(c,e){return this.each(function(){var b=a(this),j=b.data("iosslider");if(void 0==j)return!1;0==a(j.scrollerNode).children().size()?(a(j.scrollerNode).append(c),b.data("args").currentSlideNumber=1):j.settings.infiniteSlider?(1==e?a(j.scrollerNode).children(":eq(0)").before(c):a(j.scrollerNode).children(":eq("+(e-2)+")").after(c),-1>F[j.sliderNumber]&&w[j.sliderNumber]--,b.data("args").currentSlideNumber>=e&&w[j.sliderNumber]++):(e<=j.numberOfSlides?a(j.scrollerNode).children(":eq("+ (e-1)+")").before(c):a(j.scrollerNode).children(":eq("+(e-2)+")").after(c),b.data("args").currentSlideNumber>=e&&b.data("args").currentSlideNumber++);b.data("iosslider").numberOfSlides++;V.update(this)})},removeSlide:function(c){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;a(e.scrollerNode).children(":eq("+(c-1)+")").remove();w[e.sliderNumber]>c-1&&w[e.sliderNumber]--;V.update(this)})},goToSlide:function(c,f){void 0==f&&(f=this);return a(f).each(function(){var b= a(this).data("iosslider");if(void 0==b)return!1;c=c>b.childrenOffsets.length?b.childrenOffsets.length-1:c-1;e.changeSlide(c,a(b.scrollerNode),a(b.slideNodes),Z[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.slideNodeOuterWidths,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);w[b.sliderNumber]=c})},prevSlide:function(){return this.each(function(){var c=a(this).data("iosslider"); if(void 0==c)return!1;var f=(w[c.sliderNumber]+F[c.sliderNumber]+c.numberOfSlides)%c.numberOfSlides;(0<f||c.settings.infiniteSlider)&&e.changeSlide(f-1,a(c.scrollerNode),a(c.slideNodes),Z[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.slideNodeOuterWidths,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings);w[c.sliderNumber]=f})},nextSlide:function(){return this.each(function(){var c= a(this).data("iosslider");if(void 0==c)return!1;var f=(w[c.sliderNumber]+F[c.sliderNumber]+c.numberOfSlides)%c.numberOfSlides;(f<c.childrenOffsets.length-1||c.settings.infiniteSlider)&&e.changeSlide(f+1,a(c.scrollerNode),a(c.slideNodes),Z[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.slideNodeOuterWidths,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings); w[c.sliderNumber]=f})},lock:function(){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;ea[c.sliderNumber]=!0})},unlock:function(){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;ea[c.sliderNumber]=!1})},getData:function(){return this.each(function(){var c=a(this).data("iosslider");return void 0==c?!1:c})},autoSlidePause:function(){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;S[c.sliderNumber].autoSlide= !1;e.autoSlidePause(c.sliderNumber);return c})},autoSlidePlay:function(){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;S[c.sliderNumber].autoSlide=!0;e.autoSlide(a(c.scrollerNode),a(c.slideNodes),Z[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.slideNodeOuterWidths,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings);return c})}}; a.fn.iosSlider=function(c){if(V[c])return V[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return V.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);
\ No newline at end of file
Index: skin/frontend/meigeetheme/default/css/styles.css
===================================================================
--- skin/frontend/meigeetheme/default/css/styles.css	(.../1.2)	(revision 43)
+++ skin/frontend/meigeetheme/default/css/styles.css	(.../1.3)	(revision 43)
@@ -93,7 +93,12 @@
 	background:#222222;
 }
 body.page-popup{background-color:#fff; padding:18px;}
+body.page-popup a.product-image{margin-bottom: 0.75em;}
+body.page-popup .price-box{margin: 0.75em 0;}
+body.page-popup button{margin-bottom: 1.5em;}
+body.page-popup .link-wishlist{padding:0;}
 
+
 /* Background Paterns */
 
 
Index: skin/frontend/meigeetheme/default/css/print.css
===================================================================
--- skin/frontend/meigeetheme/default/css/print.css	(.../1.2)	(revision 43)
+++ skin/frontend/meigeetheme/default/css/print.css	(.../1.3)	(revision 43)
@@ -34,7 +34,6 @@
 @media print {
   * { background: transparent !important; color: #444 !important; text-shadow: none !important; }
   a, a:visited { color: #444 !important; text-decoration: underline; }
-  a:after { content: " (" attr(href) ")"; }
   abbr:after { content: " (" attr(title) ")"; }
   .ir a:after { content: ""; }  /* Don't show links for images */
   pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
@@ -43,6 +42,7 @@
   @page { margin: 0.5cm; }
   p, h2, h3 { orphans: 3; widows: 3; }
   h2, h3{ page-break-after: avoid; }
+  button.button span{border:1px solid #000;}
 }
 
 
Index: js/meanbee/tinymce5/setup.js
===================================================================
--- js/meanbee/tinymce5/setup.js	(.../1.2)	(revision 0)
+++ js/meanbee/tinymce5/setup.js	(.../1.3)	(revision 43)
@@ -0,0 +1,354 @@
+/**
+ * Magento
+ *
+ * NOTICE OF LICENSE
+ *
+ * This source file is subject to the Academic Free License (AFL 3.0)
+ * that is bundled with this package in the file LICENSE_AFL.txt.
+ * It is also available through the world-wide-web at this URL:
+ * http://opensource.org/licenses/afl-3.0.php
+ * If you did not receive a copy of the license and are unable to
+ * obtain it through the world-wide-web, please send an email
+ * to license@magentocommerce.com so we can send you a copy immediately.
+ *
+ * DISCLAIMER
+ *
+ * Do not edit or add to this file if you wish to upgrade Magento to newer
+ * versions in the future. If you wish to customize Magento for your
+ * needs please refer to http://www.magentocommerce.com for more information.
+ *
+ * @category    Mage
+ * @package     Mage_Adminhtml
+ * @copyright   Copyright (c) 2010 Magento Inc. (http://www.magentocommerce.com)
+ * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
+ * Modified by Meanbee Internet Solutions Limited. 
+ */
+
+var tinyMceWysiwygSetup = Class.create();
+tinyMceWysiwygSetup.prototype =
+{
+    mediaBrowserOpener: null,
+    mediaBrowserTargetElementId: null,
+
+    initialize: function(htmlId, config)
+    {
+        this.id = htmlId;
+        this.config = config;
+        varienGlobalEvents.attachEventHandler('tinymceChange', this.onChangeContent.bind(this));
+        this.notifyFirebug();
+        if(typeof tinyMceEditors == 'undefined') {
+            tinyMceEditors = $H({});
+        }
+        tinyMceEditors.set(this.id, this);
+    },
+
+    notifyFirebug: function() {
+        if (firebugEnabled() && $('fb' + this.id) == undefined) {
+            var noticeHtml = '<ul class="messages message-firebug" id="fb' + this.id + '"><li class="notice-msg">';
+                noticeHtml+= '<ul><li>';
+                noticeHtml+= '<b>' + this.config.firebug_warning_title + ':</b> ';
+                noticeHtml+= this.config.firebug_warning_text;
+                noticeHtml+= ' <a id="hidefb' + this.id + '" href="">' + this.config.firebug_warning_anchor + '</a>';
+                noticeHtml+= '</li></ul>';
+                noticeHtml+= '</li></ul>';
+            $('buttons' + this.id).insert({before: noticeHtml});
+            Event.observe($('hidefb' + this.id), "click", function(e) {
+                $('fb' + this.id).remove();
+                Event.stop(e);
+            }.bind(this));
+        }
+    },
+
+    setup: function(mode)
+    {
+        if (this.config.widget_plugin_src) {
+            tinymce.PluginManager.load('magentowidget', this.config.widget_plugin_src);
+        }
+
+        if (this.config.plugins) {
+            (this.config.plugins).each(function(plugin){
+                tinymce.PluginManager.load(plugin.name, plugin.src);
+            });
+        }
+
+        tinyMCE.init(this.getSettings(mode));
+    },
+
+    getSettings: function(mode)
+    {
+        var plugins = 'safari,pagebreak,style,layer,table,advhr,advimage,emotions,iespell,media,searchreplace,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras';
+
+        if (this.config.widget_plugin_src) {
+            plugins = 'magentowidget,' + plugins;
+        }
+
+        if (this.config.plugins) {
+            var magentoPluginsOptions = $H({});
+            var magentoPlugins = '';
+            (this.config.plugins).each(function(plugin){
+                magentoPlugins = plugin.name + ',' + magentoPlugins;
+                magentoPluginsOptions.set(plugin.name, plugin.options);
+            });
+            if (magentoPlugins) {
+                plugins = '-' + magentoPlugins + plugins;
+            }
+        }
+
+        var settings = {
+            mode : (mode != undefined ? mode : 'none'),
+            elements : this.id,
+            theme : 'advanced',
+            plugins : plugins,
+            extended_valid_elements : "article[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],aside[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],audio[id|autoplay|controls|loop|preload|src|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],canvas[id|height|width|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],command[id|checked|disabled|icon|label|radiogroup|type|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],datalist[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],details[id|open|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],embed[id|height|src|type|width|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],figcaption[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],figure[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],footer[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],header[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],hgroup[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],keygen[id|autofocus|challenge|disabled|form|keytype|name|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],mark[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],meter[id|form|high|low|max|min|optimum|value|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],nav[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],output[id|for|form|name|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],progress[id|max|value|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],rp[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],rt[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],ruby[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],section[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],source[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],summary[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],time[id|datetime|pubdate|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],video[id|audio|autoplay|controls|height|loop|poster|preload|src|width|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title],wbr[id|accesskey|class|contenteditable|contextmenu|dir|draggable|dropzone|hidden|spellcheck|style|tabindex|title]",
+            theme_advanced_buttons1 : magentoPlugins + 'magentowidget,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect',
+            theme_advanced_buttons2 : 'cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,forecolor,backcolor',
+            theme_advanced_buttons3 : 'tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,iespell,media,advhr,|,ltr,rtl,|,fullscreen',
+            theme_advanced_buttons4 : 'insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,pagebreak',
+            theme_advanced_toolbar_location : 'top',
+            theme_advanced_toolbar_align : 'left',
+            theme_advanced_statusbar_location : 'bottom',
+            theme_advanced_resizing : true,
+            convert_urls : false,
+            relative_urls : false,
+            content_css: this.config.content_css,
+            custom_popup_css: this.config.popup_css,
+            magentowidget_url: this.config.widget_window_url,
+            magentoPluginsOptions: magentoPluginsOptions,
+            doctype : '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',
+
+            setup : function(ed) {
+                ed.onSubmit.add(function(ed, e) {
+                    varienGlobalEvents.fireEvent('tinymceSubmit', e);
+                });
+
+                ed.onPaste.add(function(ed, e, o) {
+                    varienGlobalEvents.fireEvent('tinymcePaste', o);
+                });
+
+                ed.onBeforeSetContent.add(function(ed, o) {
+                    varienGlobalEvents.fireEvent('tinymceBeforeSetContent', o);
+                });
+
+                ed.onSetContent.add(function(ed, o) {
+                    varienGlobalEvents.fireEvent('tinymceSetContent', o);
+                });
+
+                ed.onSaveContent.add(function(ed, o) {
+                    varienGlobalEvents.fireEvent('tinymceSaveContent', o);
+                });
+
+                ed.onChange.add(function(ed, l) {
+                    varienGlobalEvents.fireEvent('tinymceChange', l);
+                });
+
+                ed.onExecCommand.add(function(ed, cmd, ui, val) {
+                    varienGlobalEvents.fireEvent('tinymceExecCommand', cmd);
+                });
+            }
+        };
+
+        // Set the document base URL
+        if (this.config.document_base_url) {
+            settings.document_base_url = this.config.document_base_url;
+        }
+
+        if (this.config.files_browser_window_url) {
+            settings.file_browser_callback = function(fieldName, url, objectType, w) {
+                varienGlobalEvents.fireEvent("open_browser_callback", {win:w, type:objectType, field:fieldName});
+            };
+        }
+
+        if (this.config.width) {
+            settings.width = this.config.width;
+        }
+
+        if (this.config.height) {
+            settings.height = this.config.height;
+        }
+
+        return settings;
+    },
+
+    openFileBrowser: function(o) {
+        var typeTitle;
+        var storeId = this.config.store_id !== null ? this.config.store_id : 0;
+        var wUrl = this.config.files_browser_window_url + 
+                   'target_element_id/' + this.id + '/' +
+                  'store/' + storeId + '/';
+
+        this.mediaBrowserOpener = o.win;
+        this.mediaBrowserOpener.blur();
+        this.mediaBrowserTargetElementId = o.field;
+
+        if (typeof(o.type) != 'undefined' && o.type != "") {
+            typeTitle = 'image' == o.type ? this.translate('Insert Image...') : this.translate('Insert Media...');
+            wUrl = wUrl + "type/" + o.type + "/";
+        } else {
+            typeTitle = this.translate('Insert File...');
+        }
+
+        MediabrowserUtility.openDialog(wUrl, false, false, typeTitle);
+    },
+
+    translate: function(string) {
+        return 'undefined' != typeof(Translator) ? Translator.translate(string) : string;
+    },
+
+    getMediaBrowserOpener: function() {
+        return this.mediaBrowserOpener;
+    },
+
+    getMediaBrowserTargetElementId: function() {
+        return this.mediaBrowserTargetElementId;
+    },
+
+    getToggleButton: function() {
+        return $('toggle' + this.id);
+    },
+
+    getPluginButtons: function() {
+        return $$('#buttons' + this.id + ' > button.plugin');
+    },
+
+    turnOn: function() {
+        this.closePopups();
+        this.setup();
+        tinyMCE.execCommand('mceAddControl', false, this.id);
+        this.getPluginButtons().each(function(e) {
+            e.hide();
+        });
+    },
+
+    turnOff: function() {
+        this.closePopups();
+        tinyMCE.execCommand('mceRemoveControl', false, this.id);
+        this.getPluginButtons().each(function(e) {
+            e.show();
+        });
+    },
+
+    closePopups: function() {
+        // close all popups to avoid problems with updating parent content area
+        closeEditorPopup('widget_window' + this.id);
+        closeEditorPopup('browser_window' + this.id);
+    },
+
+    toggle: function() {
+        if (!tinyMCE.get(this.id)) {
+            this.turnOn();
+            return true;
+        } else {
+            this.turnOff();
+            return false;
+        }
+    },
+
+    onFormValidation: function() {
+        if (tinyMCE.get(this.id)) {
+            $(this.id).value = tinyMCE.get(this.id).getContent();
+        }
+    },
+
+    onChangeContent: function() {
+        // Add "changed" to tab class if it exists
+        if(this.config.tab_id) {
+            var tab = $$('a[id$=' + this.config.tab_id + ']')[0];
+            if ($(tab) != undefined && $(tab).hasClassName('tab-item-link')) {
+                $(tab).addClassName('changed');
+            }
+        }
+    },
+
+    // retrieve directives URL with substituted directive value
+    makeDirectiveUrl: function(directive) {
+        return this.config.directives_url.replace('directive', 'directive/___directive/' + directive);
+    },
+
+    encodeDirectives: function(content) {
+        // collect all HTML tags with attributes that contain directives
+        return content.gsub(/<([a-z0-9\-\_]+.+?)([a-z0-9\-\_]+=".*?\{\{.+?\}\}.*?".+?)>/i, function(match) {
+            var attributesString = match[2];
+            // process tag attributes string
+            attributesString = attributesString.gsub(/([a-z0-9\-\_]+)="(.*?)(\{\{.+?\}\})(.*?)"/i, function(m) {
+                return m[1] + '="' + m[2] + this.makeDirectiveUrl(Base64.mageEncode(m[3])) + m[4] + '"';
+            }.bind(this));
+
+            return '<' + match[1] + attributesString + '>';
+
+        }.bind(this));
+    },
+
+    encodeWidgets: function(content) {
+        return content.gsub(/\{\{widget(.*?)\}\}/i, function(match){
+            var attributes = this.parseAttributesString(match[1]);
+            if (attributes.type) {
+                var placeholderFilename = attributes.type.replace(/\//g, "__") + ".gif";
+                if (!this.widgetPlaceholderExist(placeholderFilename)) {
+                    placeholderFilename = 'default.gif';
+                }
+                var imageSrc = this.config.widget_images_url + placeholderFilename;
+                var imageHtml = '<img';
+                    imageHtml+= ' id="' + Base64.idEncode(match[0]) + '"';
+                    imageHtml+= ' src="' + imageSrc + '"';
+                    imageHtml+= ' title="' + match[0].replace(/\{\{/g, '{').replace(/\}\}/g, '}').replace(/\"/g, '&quot;') + '"';
+                    imageHtml+= '>';
+
+                return imageHtml;
+            }
+        }.bind(this));
+    },
+
+    decodeDirectives: function(content) {
+        // escape special chars in directives url to use it in regular expression
+        var url = this.makeDirectiveUrl('%directive%').replace(/([$^.?*!+:=()\[\]{}|\\])/g, '\\$1');
+        var reg = new RegExp(url.replace('%directive%', '([a-zA-Z0-9,_-]+)'));
+        return content.gsub(reg, function(match) {
+            return Base64.mageDecode(match[1]);
+        }.bind(this));
+    },
+
+    decodeWidgets: function(content) {
+        return content.gsub(/<img([^>]+id=\"[^>]+)>/i, function(match) {
+            var attributes = this.parseAttributesString(match[1]);
+            if(attributes.id) {
+                var widgetCode = Base64.idDecode(attributes.id);
+                if (widgetCode.indexOf('{{widget') != -1) {
+                    return widgetCode;
+                }
+                return match[0];
+            }
+            return match[0];
+        }.bind(this));
+    },
+
+    parseAttributesString: function(attributes) {
+        var result = {};
+        attributes.gsub(/(\w+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/, function(match){
+            result[match[1]] = match[2];
+        });
+        return result;
+    },
+
+    beforeSetContent: function(o) {
+        if (this.config.add_widgets) {
+            o.content = this.encodeWidgets(o.content);
+            o.content = this.encodeDirectives(o.content);
+        } else if (this.config.add_directives) {
+            o.content = this.encodeDirectives(o.content);
+        }
+    },
+
+    saveContent: function(o) {
+        if (this.config.add_widgets) {
+            o.content = this.decodeWidgets(o.content);
+            o.content = this.decodeDirectives(o.content);
+        } else if (this.config.add_directives) {
+            o.content = this.decodeDirectives(o.content);
+        }
+    },
+
+    widgetPlaceholderExist: function(filename) {
+        return this.config.widget_placeholders.indexOf(filename) != -1;
+    }
+}
+
Index: app/design/adminhtml/default/default/layout/meanbee/tinymce5.xml
===================================================================
--- app/design/adminhtml/default/default/layout/meanbee/tinymce5.xml	(.../1.2)	(revision 0)
+++ app/design/adminhtml/default/default/layout/meanbee/tinymce5.xml	(.../1.3)	(revision 43)
@@ -0,0 +1,25 @@
+<?xml version="1.0"?>
+<!--
+/**
+ * Meanbee_Tinymce5
+ *
+ * This module was developed by Meanbee Internet Solutions.  If you require any
+ * support or have any questions please contact us at support@meanbee.com.
+ *
+ * @category   Meanbee
+ * @package    Meanbee_Tinymce5
+ * @author     Meanbee Internet Solutions <support@meanbee.com>
+ * @copyright  Copyright (c) 2011 Meanbee Internet Solutions (http://www.meanbee.com)
+ * @license    OSL v3.0
+ */
+-->
+<layout version="0.1.0">
+
+    <default>
+        <reference name="head">
+            <action method="removeItem"><type>js</type><name>mage/adminhtml/wysiwyg/tiny_mce/setup.js</name></action>
+            <action method="addItem"><type>js</type><name>meanbee/tinymce5/setup.js</name><params/><if/><condition>can_load_tiny_mce</condition></action>
+        </reference>
+    </default>
+
+</layout>
\ No newline at end of file
Index: app/code/local/Meigee/Meigeewidgets/Block/Featuredcategory.php
===================================================================
--- app/code/local/Meigee/Meigeewidgets/Block/Featuredcategory.php	(.../1.2)	(revision 43)
+++ app/code/local/Meigee/Meigeewidgets/Block/Featuredcategory.php	(.../1.3)	(revision 43)
@@ -19,7 +19,7 @@
     protected function catId()
     {
         $cat = explode("/", $this->getData('featured_category'));     
-        return $cat[0];
+        return $cat[1];
     }
     public function catName () {
         return Mage::getModel('catalog/category')->load($this->catId());
Index: app/code/community/Meanbee/Tinymce5/etc/system.xml
===================================================================
--- app/code/community/Meanbee/Tinymce5/etc/system.xml	(.../1.2)	(revision 0)
+++ app/code/community/Meanbee/Tinymce5/etc/system.xml	(.../1.3)	(revision 43)
@@ -0,0 +1,42 @@
+<?xml version="1.0"?>
+<!--
+/**
+ * Meanbee_Tinymce5
+ *
+ * This module was developed by Meanbee Internet Solutions.  If you require any
+ * support or have any questions please contact us at support@meanbee.com.
+ *
+ * @category   Meanbee
+ * @package    Meanbee_Tinymce5
+ * @author     Meanbee Internet Solutions <support@meanbee.com>
+ * @copyright  Copyright (c) 2011 Meanbee Internet Solutions (http://www.meanbee.com)
+ * @license    OSL v3.0
+ */
+-->
+<config>
+	<sections>
+		<tinymce5 translate="label" module="tinymce5">
+			<label>WYSIWYG HTML 5</label>
+			<tab>general</tab>
+			<frontend_type>text</frontend_type>
+			<sort_order>1200</sort_order>
+			<show_in_default>1</show_in_default>
+			<show_in_website>1</show_in_website>
+			<show_in_store>1</show_in_store>
+			<groups>
+				<banner>
+					<label>Module Information</label>
+					<frontend_type>text</frontend_type>
+					<sort_order>10</sort_order>
+					<show_in_default>1</show_in_default>
+					<show_in_website>1</show_in_website>
+					<show_in_store>1</show_in_store>
+					<comment>
+					<![CDATA[
+						This module adds HTML5 compatibility with the default Magento WYSIWYG editor (TinyMCE).  
+					]]></comment>
+				</banner>
+			</groups>
+		</tinymce5>
+	</sections>
+</config>
\ No newline at end of file
Index: app/code/community/Meanbee/Tinymce5/etc/config.xml
===================================================================
--- app/code/community/Meanbee/Tinymce5/etc/config.xml	(.../1.2)	(revision 0)
+++ app/code/community/Meanbee/Tinymce5/etc/config.xml	(.../1.3)	(revision 43)
@@ -0,0 +1,75 @@
+<?xml version="1.0"?>
+<!--
+/**
+ * Meanbee_Tinymce5
+ *
+ * This module was developed by Meanbee Internet Solutions.  If you require any
+ * support or have any questions please contact us at support@meanbee.com.
+ *
+ * @category   Meanbee
+ * @package    Meanbee_Tinymce5
+ * @author     Meanbee Internet Solutions <support@meanbee.com>
+ * @copyright  Copyright (c) 2011 Meanbee Internet Solutions (http://www.meanbee.com)
+ * @license    OSL v3.0
+ */
+-->
+<config>
+	<modules>
+		<Meanbee_Tinymce5>
+			<version>0.1.1</version>
+		</Meanbee_Tinymce5>
+	</modules>
+	
+	<global>
+		<helpers>
+			<tinymce5>
+				<class>Meanbee_Tinymce5_Helper</class>
+			</tinymce5>
+		</helpers>
+	</global>
+	
+	<admin>    
+        <routers>
+            <tinymce5>
+                <use>admin</use>
+                <args>
+                        <module>Meanbee_Tinymce5</module>
+                        <frontName>tinymce5</frontName>
+                </args>
+            </tinymce5>
+        </routers>
+    </admin>
+		
+    <adminhtml>
+        <layout>
+            <updates>
+                <tinymce5>
+                    <file>meanbee/tinymce5.xml</file>
+                </tinymce5>
+            </updates>
+        </layout>
+
+		<acl>
+			<all>
+				<title>Allow Everything</title>
+			</all>
+			<resources>
+				<admin>
+					<children>
+						<system>
+							<children>
+								<config>
+									<children>
+										<tinymce5 translate="title" module="tinymce5">
+											<title>WYSIWYG HTML 5</title>
+										</tinymce5>
+									</children>
+								</config>
+							</children>
+						</system>
+					</children>
+				</admin>
+			</resources>
+		</acl>
+	</adminhtml>
+</config>
Index: app/code/community/Meanbee/Tinymce5/Helper/Data.php
===================================================================
--- app/code/community/Meanbee/Tinymce5/Helper/Data.php	(.../1.2)	(revision 0)
+++ app/code/community/Meanbee/Tinymce5/Helper/Data.php	(.../1.3)	(revision 43)
@@ -0,0 +1,16 @@
+<?php
+/**
+ * Meanbee_Tinymce5
+ *
+ * This module was developed by Meanbee Internet Solutions.  If you require any
+ * support or have any questions please contact us at support@meanbee.com.
+ *
+ * @category   Meanbee
+ * @package    Meanbee_Tinymce5
+ * @author     Meanbee Internet Solutions <support@meanbee.com>
+ * @copyright  Copyright (c) 2011 Meanbee Internet Solutions (http://www.meanbee.com)
+ * @license    OSL v3.0
+ */
+class Meanbee_Tinymce5_Helper_Data extends Mage_Core_Helper_Abstract {
+    
+}
Index: app/etc/modules/Meanbee_Tinymce5.xml
===================================================================
--- app/etc/modules/Meanbee_Tinymce5.xml	(.../1.2)	(revision 0)
+++ app/etc/modules/Meanbee_Tinymce5.xml	(.../1.3)	(revision 43)
@@ -0,0 +1,23 @@
+<?xml version="1.0"?>
+<!--
+/**
+ * Meanbee_Tinymce5
+ *
+ * This module was developed by Meanbee Internet Solutions.  If you require any
+ * support or have any questions please contact us at support@meanbee.com.
+ *
+ * @category   Meanbee
+ * @package    Meanbee_Tinymce5
+ * @author     Meanbee Internet Solutions <support@meanbee.com>
+ * @copyright  Copyright (c) 2011 Meanbee Internet Solutions (http://www.meanbee.com)
+ * @license    OSL v3.0
+ */
+-->
+<config>
+    <modules>
+        <Meanbee_Tinymce5>
+            <active>true</active>
+            <codePool>community</codePool>
+        </Meanbee_Tinymce5>
+    </modules>
+</config>
